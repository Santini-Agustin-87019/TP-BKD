server:
  port: 8090   # Puerto que usar√° el API Gateway

spring:
  application:
    name: api-gateway

  cloud:
    gateway:
      routes:
        # ==== CLIENTES ====
        - id: ms-clientes
          uri: http://ms-clientes:8082  #nombre del servicio en docker compose
          predicates:
            - Path=/api/v1/clientes/**

        # ==== CAMIONES ====
        - id: ms-camiones
          uri: http://ms-camiones:8081
          predicates:
            - Path=/api/v1/camiones/**

        # ==== OPERACIONES ====
        - id: ms-operaciones
          uri: http://ms-operaciones:8083
          predicates:
            - Path=/api/v1/operaciones/**

        # ==== RECURSOS ====
        - id: ms-recursos 
          uri: http://ms-recursos:8080
          predicates:
            - Path=/api/v1/recursos/**

  security:
    oauth2:
      resourceserver:
        jwt:
          issuer-uri: http://keycloak:8080/realms/tpi-backend
          

        
